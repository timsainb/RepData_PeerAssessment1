{
    "contents" : "---\ntitle: \"Reproducible Research: Peer Assessment 1\"\noutput: \n  html_document:\n    keep_md: true\n---\n\n\n## Loading and preprocessing the data\n\n1. Load the data.table library\n2. Read activity.csv as the data.table activity\n3. Turns the date and interval into factors\n\n```{r}\nlibrary(data.table)\nactivity <- data.table(read.csv(\"activity.csv\"))\nactivity$date <- as.Date(activity$date)\nactivity$interval <- factor(activity$interval)\n```\n\n## What is mean total number of steps taken per day?\n\nCreate a histogram of the total steps in a day\n```{r}\nlibrary(ggplot2)\ntotal.steps.by.day <- tapply(activity$steps, activity$date, FUN=sum, na.rm=TRUE)\n\nqplot(total.steps.by.day, binwidth=1000)\n```\n\n\nCalculates mean and median for total steps in a day\n```{r}\nmean(total.steps.by.day, na.rm=TRUE)\nmedian(total.steps.by.day, na.rm=TRUE)\n```\n\n## What is the average daily activity pattern?\n\nCalculates the average steps per 5 minute time bin, discluding NA\n```{r}\ntotal.steps.by.time <- tapply(activity$steps, activity$interval, FUN=sum, na.rm=TRUE)\naverage.steps.by.time <- total.steps.by.time / length(levels(activity$interval))\nplot(average.steps.by.time, type = \"l\", xlab=\"5 Minute Interval Block\", ylab=\"Average Number of Steps Taken\", main=\"Average Daily Activity\")\n```\n\n\n## Imputing missing values\n\nCalculate the notal number of missing values\n```{r}\n(complete.cases(activity))[\"FALSE\"]\n```\n\nCreate new dataset, with NAs filled in based on 5-min average\n```{r}\ncompleteActivity <- activity\n\ncompleteActivity$steps[which(is.na(activity$steps))] <- average.steps.by.time[activity$interval[which(is.na(activity$steps))]]\n\n```\n\nPlot the new dataset in red, and the old dataset in green, with filled in results\n```{r}\nnew.total.steps.by.time <- tapply(completeActivity$steps, completeActivity$interval, FUN=sum, na.rm=TRUE)\nnew.average.steps.by.time <- new.total.steps.by.time / length(levels(completeActivity$interval))\nplot(new.average.steps.by.time, type = \"l\", col=\"red\", xlab=\"5 Minute Interval Block\", ylab=\"Average Number of Steps Taken\", main=\"Average Daily Activity With Replaced NAs\")\nlines(average.steps.by.time, col=\"green\", lty=2) \n```\n\n\n## Are there differences in activity patterns between weekdays and weekends?\n\nCreate a new factor variable in the dataset with two levels, weekend and weekday\n```{r}\ntest <- weekdays(activity$date)\ncompleteActivity$weekdays <- \"weekday\"\ncompleteActivity$weekdays[which(weekdays(activity$date) %in% c('Saturday','Sunday'))] <- \"weekend\"\ncompleteActivity$weekdays <- factor(completeActivity$weekdays)\n```\n\nPlot times series for weekends and weekdays for number of steps\n\n```{r}\naverages <- aggregate(steps ~ interval + weekdays, data=completeActivity, mean)\n\n\nqplot(as.numeric(interval),steps, data=averages, facets = weekdays~., geom=\"line\",main=\"Average Daily Activity\",xlab=\"5 Minute Interval Block\", ylab=\"Average Number of Steps Taken\")\n\n```\n",
    "created" : 1418251483171.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "4245394211",
    "id" : "F7EA2514",
    "lastKnownWriteTime" : 1418316810,
    "path" : "~/Documents/Coursera/Reproducible Research/Reproducible Research Course Project 1/RepData_PeerAssessment1/PA1_template.Rmd",
    "project_path" : "PA1_template.Rmd",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_markdown"
}